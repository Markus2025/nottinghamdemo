è¿™æ˜¯ä¸€ä¸ªåŸºäºexpress.jsçš„åç«¯é¡¹ç›®ï¼Œæˆ‘çš„æ•°æ®åº“çš„è¿æ¥æ–¹å¼æ˜¯ï¼šsh-cynosdbmysql-grp-7xxb7do0.sql.tencentcdb.com:20095

# Nottingham æˆ¿æºå°ç¨‹åº - å‰ç«¯å¼€å‘æ–‡æ¡£ v2.0

> æ›´æ–°æ—¥æœŸï¼š2025-12-03  
> ç‰ˆæœ¬ï¼šv2.0  
> çŠ¶æ€ï¼šå‰ç«¯å·²å®ŒæˆåŸºç¡€åŠŸèƒ½ï¼Œå¾…åç«¯APIå¯¹æ¥

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [å·²å®ç°åŠŸèƒ½](#å·²å®ç°åŠŸèƒ½)
4. [å¾…å®ç°åŠŸèƒ½ï¼ˆéœ€åç«¯æ”¯æŒï¼‰](#å¾…å®ç°åŠŸèƒ½éœ€åç«¯æ”¯æŒ)
5. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
6. [APIæ¥å£æ–‡æ¡£](#apiæ¥å£æ–‡æ¡£)
7. [é¡µé¢æ¶æ„](#é¡µé¢æ¶æ„)
8. [ç»„ä»¶è¯´æ˜](#ç»„ä»¶è¯´æ˜)
9. [UIè®¾è®¡è§„èŒƒ](#uiè®¾è®¡è§„èŒƒ)
10. [ä¸šåŠ¡é€»è¾‘è¯´æ˜](#ä¸šåŠ¡é€»è¾‘è¯´æ˜)

---

## é¡¹ç›®æ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½
Nottinghamæ˜¯ä¸€ä¸ªé¢å‘è¯ºä¸æ±‰åœ°åŒºå­¦ç”Ÿçš„å¾®ä¿¡å°ç¨‹åºï¼Œæä¾›ï¼š
- æˆ¿æºä¿¡æ¯æµè§ˆï¼ˆå…¬å¯“/åˆ«å¢…ï¼‰
- æˆ¿æºç­›é€‰ï¼ˆæˆ¿å‹ã€ä»·æ ¼ã€ä½ç½®ï¼‰
- æˆ¿æºè¯¦æƒ…æŸ¥çœ‹
- ç»„é˜Ÿæ‰¾å®¤å‹åŠŸèƒ½
- ä¸ªäººä¸­å¿ƒç®¡ç†

### ç›®æ ‡ç”¨æˆ·
- University of Nottinghamå­¦ç”Ÿ
- Nottingham Trent Universityå­¦ç”Ÿ
- è¯ºä¸æ±‰åœ°åŒºç§Ÿæˆ¿éœ€æ±‚è€…

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **å¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶**
- WXMLï¼ˆé¡µé¢ç»“æ„ï¼‰
- WXSSï¼ˆæ ·å¼ï¼‰
- JavaScriptï¼ˆé€»è¾‘ï¼‰
- glass-easelï¼ˆç»„ä»¶ç³»ç»Ÿï¼‰

### å‰ç«¯å·²å®ç°åŠŸèƒ½
- å®Œæ•´çš„UIç»„ä»¶åº“
- ç”¨æˆ·è®¤è¯ï¼ˆå¾®ä¿¡ç™»å½•ï¼‰
- æœ¬åœ°æ•°æ®ç¼“å­˜
- Mockæ•°æ®æµ‹è¯•

---

## å·²å®ç°åŠŸèƒ½

### âœ… 1. ç”¨æˆ·ç³»ç»Ÿ

#### 1.1 å¾®ä¿¡ç™»å½•
- **åŠŸèƒ½**ï¼šè·å–å¾®ä¿¡ç”¨æˆ·åŸºç¡€ä¿¡æ¯
- **å®ç°æ–¹å¼**ï¼šwx.getUserProfile API
- **æœ¬åœ°å­˜å‚¨**ï¼šç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨storage
- **åŒ…å«ä¿¡æ¯**ï¼š
  - æ˜µç§°ï¼ˆnicknameï¼‰
  - å¤´åƒï¼ˆavatarï¼‰
  - ä¸ªæ€§ç­¾åï¼ˆmottoï¼‰
  - æ ¡åŒºï¼ˆcampusï¼‰

#### 1.2 ä¸ªäººä¿¡æ¯ç¼–è¾‘
- **å¤´åƒç¼–è¾‘**ï¼šé€‰æ‹©ç›¸å†Œæˆ–æ‹ç…§
- **æ˜µç§°ç¼–è¾‘**ï¼šå¼¹çª—è¾“å…¥
- **æ ¡åŒºé€‰æ‹©**ï¼š7ä¸ªæ ¡åŒºä¸‹æ‹‰é€‰æ‹©
  - University of Nottingham(Park)
  - University of Nottingham(Jubilee)
  - University of Nottingham(King's Meadow)
  - University of Nottingham(Sutton Bonington)
  - Nottingham Trent University(City)
  - Nottingham Trent University(Clifton)
  - Nottingham Trent University(Brackenhurst)

### âœ… 2. æˆ¿æºæµè§ˆ

#### 2.1 æˆ¿æºåˆ—è¡¨ï¼ˆé¦–é¡µï¼‰
- **å±•ç¤ºå†…å®¹**ï¼š
  - æˆ¿æºå›¾ç‰‡
  - æ ‡é¢˜
  - ä»·æ ¼
  - æˆ¿å‹ï¼ˆxå®¤xå«ï¼‰
  - é¢ç§¯
  - ä½ç½®
  - æ ‡ç­¾
  - æ”¶è—çŠ¶æ€
- **äº¤äº’åŠŸèƒ½**ï¼š
  - æœç´¢ï¼ˆå¸¦é˜²æŠ–ï¼‰
  - ç­›é€‰ï¼ˆæˆ¿å‹ã€ä»·æ ¼ã€æˆ·å‹ã€ä½ç½®ï¼‰
  - æ”¶è—/å–æ¶ˆæ”¶è—
  - ä¸‹æ‹‰åˆ·æ–°
  - ä¸Šæ‹‰åŠ è½½æ›´å¤š
  - ç‚¹å‡»è¿›å…¥è¯¦æƒ…

#### 2.2 æˆ¿æºç­›é€‰
- **æˆ¿å‹ç­›é€‰**ï¼šå…¨éƒ¨ã€å…¬å¯“ã€åˆ«å¢…
- **ä»·æ ¼ç­›é€‰**ï¼šè‡ªå®šä¹‰ä»·æ ¼åŒºé—´ï¼ˆÂ£0-2000ï¼‰
- **ç­›é€‰å¼¹çª—**ï¼šä»·æ ¼èŒƒå›´è¾“å…¥æ¡†
- **å®æ—¶æ›´æ–°**ï¼šé€‰æ‹©åç«‹å³åˆ·æ–°åˆ—è¡¨

#### 2.3 æˆ¿æºæ”¶è—
- **æœ¬åœ°å­˜å‚¨**ï¼šæ”¶è—IDåˆ—è¡¨å­˜å‚¨åœ¨storage
- **çŠ¶æ€åŒæ­¥**ï¼šåˆ—è¡¨å’Œè¯¦æƒ…é¡µæ”¶è—çŠ¶æ€åŒæ­¥
- **ç»Ÿè®¡æ˜¾ç¤º**ï¼šä¸ªäººä¸­å¿ƒæ˜¾ç¤ºæ”¶è—æ•°é‡

### âœ… 3. æˆ¿æºè¯¦æƒ…

#### 3.1 åŸºç¡€ä¿¡æ¯å±•ç¤º
- **å›¾ç‰‡è½®æ’­**ï¼šæ”¯æŒå¤šå›¾å±•ç¤ºå’Œé¢„è§ˆ
- **æˆ¿æºå‚æ•°**ï¼š
  - æ ‡é¢˜ã€æè¿°
  - ä»·æ ¼ï¼ˆæœˆç§Ÿ/æŠ¼é‡‘ï¼‰
  - å§å®¤ã€æµ´å®¤ã€é¢ç§¯
  - æ¥¼å±‚ä¿¡æ¯
  - æˆ¿å‹æ ‡ç­¾
- **é…å¥—è®¾æ–½**ï¼šåˆ—è¡¨å±•ç¤º
- **ä½ç½®ä¿¡æ¯**ï¼šè¯¦ç»†åœ°å€

#### 3.2 è”ç³»æˆ¿ä¸œ
- **äºŒç»´ç å¼¹çª—**ï¼šç‚¹å‡»"è”ç³»æˆ¿ä¸œ"æ˜¾ç¤ºäºŒç»´ç 
- **å ä½å›¾ç‰‡**ï¼šå½“å‰ä½¿ç”¨house.pngä½œä¸ºå ä½

#### 3.3 å‘èµ·ç»„é˜Ÿï¼ˆæ–°å¢ï¼‰
- **å¼¹çª—å†…å®¹**ï¼š
  - å‘èµ·äººï¼šæ˜µç§°+å¤´åƒï¼ˆè‡ªåŠ¨è·å–å½“å‰ç”¨æˆ·ï¼‰
  - æˆ¿å‹ï¼šxäººæˆ¿ï¼ˆæ ¹æ®å§å®¤æ•°é‡ï¼‰
  - å‘èµ·å¤‡æ³¨ï¼š200å­—ä»¥å†…çš„æ–‡æœ¬è¾“å…¥
  - æ“ä½œæŒ‰é’®ï¼š"å°±å®ƒäº†ï¼"/"æˆ‘å†çœ‹çœ‹"
- **ç™»å½•æ£€æŸ¥**ï¼šæœªç™»å½•æ—¶æç¤º
- **æˆåŠŸè·³è½¬**ï¼šå‘èµ·æˆåŠŸåè·³è½¬åˆ°ç»„é˜Ÿé¡µé¢

### âœ… 4. ç»„é˜ŸåŠŸèƒ½ï¼ˆéƒ¨åˆ†å®ç°ï¼‰

#### 4.1 ç»„é˜Ÿåˆ—è¡¨
- **Tabåˆ‡æ¢**ï¼šå…¨éƒ¨ç»„é˜Ÿ / æˆ‘çš„ç»„é˜Ÿ
- **å¡ç‰‡å±•ç¤º**ï¼š
  - å…³è”æˆ¿æºæ ‡é¢˜
  - å‘èµ·äººä¿¡æ¯ï¼ˆæ˜µç§°+å¤´åƒï¼‰
  - æˆå‘˜å¤´åƒåˆ—è¡¨ï¼ˆæœ€å¤šæ˜¾ç¤º4ä¸ªï¼‰
  - æˆå‘˜è¿›åº¦ï¼ˆx/yäººï¼‰
  - ç»„é˜Ÿæè¿°
  - ç›¸å¯¹æ—¶é—´
  - "ç”³è¯·åŠ å…¥"æŒ‰é’®

#### 4.2 åˆ›å»ºç»„é˜Ÿå…¥å£
- **æ‚¬æµ®æŒ‰é’®**ï¼š"+"å·æŒ‰é’®
- **å½“å‰çŠ¶æ€**ï¼šæ˜¾ç¤º"åˆ›å»ºç»„é˜ŸåŠŸèƒ½å¼€å‘ä¸­"

### âœ… 5. ä¸ªäººä¸­å¿ƒ

#### 5.1 ç”¨æˆ·ä¿¡æ¯å¡ç‰‡
- **æ¸å˜èƒŒæ™¯**ï¼šè“è‰²æ¸å˜
- **æ˜¾ç¤ºå†…å®¹**ï¼š
  - å¤´åƒï¼ˆå¯ç‚¹å‡»ç¼–è¾‘ï¼‰
  - æ˜µç§°ï¼ˆå¯ç‚¹å‡»ç¼–è¾‘ï¼‰
  - æ ¡åŒºé€‰æ‹©å™¨
  - ä¸ªæ€§ç­¾å

#### 5.2 ç»Ÿè®¡æ•°æ®
- **æ”¶è—æ•°**ï¼šå®æ—¶ç»Ÿè®¡
- **ç»„é˜Ÿæ•°**ï¼šå¾…å¯¹æ¥
- **æµè§ˆæ•°**ï¼šå¾…å¯¹æ¥

#### 5.3 åŠŸèƒ½å…¥å£
- æˆ‘çš„æ”¶è—
- æˆ‘çš„ç»„é˜Ÿ
- æµè§ˆå†å²
- é€šç”¨è®¾ç½®
- å…³äºæˆ‘ä»¬

### âœ… 6. UIç»„ä»¶

#### 6.1 è‡ªå®šä¹‰ç»„ä»¶
- **property-card**ï¼šæˆ¿æºå¡ç‰‡
- **filter-bar**ï¼šç­›é€‰æ 
- **team-card**ï¼šç»„é˜Ÿå¡ç‰‡

#### 6.2 æ ·å¼ç³»ç»Ÿ
- **variables.wxss**ï¼šå®Œæ•´çš„è®¾è®¡ä»¤ç‰Œ
- **common.wxss**ï¼šå·¥å…·ç±»åº“

---

## å¾…å®ç°åŠŸèƒ½ï¼ˆéœ€åç«¯æ”¯æŒï¼‰

### ğŸ”„ 1. ç»„é˜Ÿç³»ç»Ÿï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

#### 1.1 å‘èµ·ç»„é˜Ÿ
**éœ€æ±‚è¯´æ˜**ï¼š
- æ¯ä¸ªç”¨æˆ·åªèƒ½å‘èµ·ä¸€æ¬¡ç»„é˜Ÿ
- æƒ³è¦å†æ¬¡å‘èµ·éœ€è¦å…ˆé€€å‡ºä¹‹å‰çš„ç»„é˜Ÿ
- å‘èµ·æˆåŠŸåè‡ªåŠ¨åŒæ­¥åˆ°teamé¡µé¢

**å‰ç«¯å·²å®ç°**ï¼š
- âœ… å‘èµ·ç»„é˜Ÿå¼¹çª—UI
- âœ… è¡¨å•æ•°æ®æ”¶é›†
- âœ… æœ¬åœ°æ ¡éªŒ

**éœ€è¦åç«¯æ¥å£**ï¼š
```
POST /api/teams
```

#### 1.2 åŠ å…¥ç»„é˜Ÿ
**éœ€æ±‚è¯´æ˜**ï¼š
- æ¯ä¸ªç”¨æˆ·åªèƒ½å‚ä¸ä¸€ä¸ªé˜Ÿä¼
- æ— æ³•åŒæ—¶å‚ä¸å¤šä¸ªé˜Ÿä¼
- ç‚¹å‡»"ç”³è¯·åŠ å…¥"åç«‹å³åŠ å…¥
- é˜Ÿä¼äººæ•°å®æ—¶æ›´æ–°ï¼ˆ2/4 â†’ 3/4ï¼‰

**å‰ç«¯å·²å®ç°**ï¼š
- âœ… "ç”³è¯·åŠ å…¥"æŒ‰é’®
- âœ… åŠ å…¥ç¡®è®¤å¼¹çª—

**éœ€è¦åç«¯æ¥å£**ï¼š
```
POST /api/teams/:teamId/join
```

#### 1.3 æˆ‘çš„ç»„é˜Ÿè¯¦æƒ…é¡µ
**éœ€æ±‚è¯´æ˜**ï¼š
æ˜¾ç¤ºå‚ä¸çš„ç»„é˜Ÿå®Œæ•´ä¿¡æ¯

**å±•ç¤ºå†…å®¹**ï¼š
- å‘èµ·äººçš„ç»„é˜Ÿå¤‡æ³¨
- å‘èµ·äººä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒã€å¤§å­¦ï¼‰
- å®¤å‹1-3ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒã€å¤§å­¦ï¼‰
- å›¢é˜Ÿå¯¹è¯æ¡†ï¼ˆå›ºå®šé«˜åº¦ï¼Œå¯æ»šåŠ¨ï¼‰
- é€€å‡ºæŒ‰é’®ï¼ˆå¸¦äºŒæ¬¡ç¡®è®¤ï¼‰

**å‰ç«¯å¾…å®ç°**ï¼š
- âŒ team-detailé¡µé¢
- âŒ èŠå¤©åŠŸèƒ½
- âŒ é€€å‡ºç»„é˜Ÿå¼¹çª—

**éœ€è¦åç«¯æ¥å£**ï¼š
```
GET /api/teams/my
DELETE /api/teams/:teamId/leave
POST /api/teams/:teamId/messages
GET /api/teams/:teamId/messages
```

### ğŸ”„ 2. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

**éœ€æ±‚è¯´æ˜**ï¼š
- å®Œæ•´çš„å¾®ä¿¡ç™»å½•æµç¨‹
- è·å–openId
- Tokenç®¡ç†

**å‰ç«¯å·²å®ç°**ï¼š
- âœ… wx.getUserProfileè·å–åŸºç¡€ä¿¡æ¯
- âœ… æœ¬åœ°Tokenå­˜å‚¨

**éœ€è¦åç«¯æ¥å£**ï¼š
```
POST /api/auth/login
POST /api/auth/refresh
```

### ğŸ”„ 3. æˆ¿æºæ•°æ®æ¥å£

**éœ€æ±‚è¯´æ˜**ï¼š
- æˆ¿æºåˆ—è¡¨åˆ†é¡µ
- æˆ¿æºè¯¦æƒ…
- æˆ¿æºæœç´¢
- æˆ¿æºç­›é€‰

**å‰ç«¯å·²å®ç°**ï¼š
- âœ… Mockæ•°æ®æµ‹è¯•
- âœ… å®Œæ•´UIå±•ç¤º

**éœ€è¦åç«¯æ¥å£**ï¼š
```
GET /api/properties
GET /api/properties/:id
GET /api/properties/search
```

### ğŸ”„ 4. æ”¶è—åŠŸèƒ½

**éœ€æ±‚è¯´æ˜**ï¼š
- æ”¶è—åˆ—è¡¨äº‘ç«¯åŒæ­¥
- è·¨è®¾å¤‡è®¿é—®

**å‰ç«¯å·²å®ç°**ï¼š
- âœ… æœ¬åœ°æ”¶è—å­˜å‚¨
- âœ… UIäº¤äº’

**éœ€è¦åç«¯æ¥å£**ï¼š
```
GET /api/favorites
POST /api/favorites
DELETE /api/favorites/:propertyId
```

---

## æ•°æ®æ¨¡å‹

### Userï¼ˆç”¨æˆ·ï¼‰
```javascript
{
  id: Number,              // ç”¨æˆ·ID
  openId: String,          // å¾®ä¿¡openId
  nickname: String,        // æ˜µç§°
  avatar: String,          // å¤´åƒURL
  campus: String,          // æ ¡åŒº
  motto: String,           // ä¸ªæ€§ç­¾å
  createdAt: Date,         // åˆ›å»ºæ—¶é—´
  updatedAt: Date          // æ›´æ–°æ—¶é—´
}
```

### Propertyï¼ˆæˆ¿æºï¼‰
```javascript
{
  id: Number,              // æˆ¿æºID
  title: String,           // æ ‡é¢˜
  description: String,     // æè¿°
  type: String,            // ç±»å‹ï¼š'apartment' | 'house'
  price: Number,           // æœˆç§Ÿï¼ˆÂ£ï¼‰
  deposit: Number,         // æŠ¼é‡‘ï¼ˆÂ£ï¼‰
  location: String,        // åŒºåŸŸ
  address: String,         // è¯¦ç»†åœ°å€
  bedrooms: Number,        // å§å®¤æ•°
  bathrooms: Number,       // æµ´å®¤æ•°
  area: Number,            // é¢ç§¯ï¼ˆmÂ²ï¼‰
  floor: Number,           // æ¥¼å±‚
  totalFloors: Number,     // æ€»æ¥¼å±‚
  images: Array<String>,   // å›¾ç‰‡URLæ•°ç»„
  tags: Array<String>,     // æ ‡ç­¾
  facilities: Array<String>, // é…å¥—è®¾æ–½
  contactName: String,     // è”ç³»äºº
  contactPhone: String,    // è”ç³»ç”µè¯
  contactQRCode: String,   // äºŒç»´ç URL
  status: String,          // çŠ¶æ€ï¼š'available' | 'rented'
  createdAt: Date,
  updatedAt: Date
}
```

### Teamï¼ˆç»„é˜Ÿï¼‰
```javascript
{
  id: Number,              // ç»„é˜ŸID
  propertyId: Number,      // å…³è”æˆ¿æºID
  propertyTitle: String,   // æˆ¿æºæ ‡é¢˜
  creator: {               // åˆ›å»ºè€…
    id: Number,
    nickname: String,
    avatar: String,
    campus: String
  },
  members: Array<{         // æˆå‘˜åˆ—è¡¨
    id: Number,
    nickname: String,
    avatar: String,
    campus: String,
    joinedAt: Date         // åŠ å…¥æ—¶é—´
  }>,
  maxMembers: Number,      // æœ€å¤§äººæ•°ï¼ˆ=æˆ¿æºå§å®¤æ•°ï¼‰
  description: String,     // ç»„é˜Ÿå¤‡æ³¨
  status: String,          // çŠ¶æ€ï¼š'active' | 'full' | 'closed'
  createdAt: Date,
  updatedAt: Date
}
```

### TeamMessageï¼ˆç»„é˜Ÿæ¶ˆæ¯ï¼‰
```javascript
{
  id: Number,              // æ¶ˆæ¯ID
  teamId: Number,          // ç»„é˜ŸID
  userId: Number,          // å‘é€è€…ID
  content: String,         // æ¶ˆæ¯å†…å®¹
  type: String,            // ç±»å‹ï¼š'text' | 'image' | 'system'
  createdAt: Date
}
```

---

## APIæ¥å£æ–‡æ¡£

### åŸºç¡€é…ç½®
```
BASE_URL: https://api.nottingham.example.com
API_VERSION: /v1
```

### è¯·æ±‚å¤´
```javascript
{
  'Content-Type': 'application/json',
  'Authorization': 'Bearer {token}'
}
```

### æ ‡å‡†å“åº”æ ¼å¼
```javascript
{
  code: 200,              // çŠ¶æ€ç 
  message: "success",     // æ¶ˆæ¯
  data: {}                // æ•°æ®
}
```

---

### 1. ç”¨æˆ·è®¤è¯

#### 1.1 å¾®ä¿¡ç™»å½•
```
POST /api/auth/login
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  code: String,            // wx.loginè·å–çš„code
  userInfo: {              // wx.getUserProfileè·å–çš„ä¿¡æ¯
    nickName: String,
    avatarUrl: String
  }
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: {
    token: String,         // JWT token
    user: {
      id: Number,
      openId: String,
      nickname: String,
      avatar: String,
      campus: String,
      motto: String
    }
  }
}
```

#### 1.2 åˆ·æ–°Token
```
POST /api/auth/refresh
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  refreshToken: String
}
```

#### 1.3 æ›´æ–°ç”¨æˆ·ä¿¡æ¯
```
PUT /api/user/profile
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  nickname: String,       // å¯é€‰
  avatar: String,         // å¯é€‰
  campus: String,         // å¯é€‰
  motto: String           // å¯é€‰
}
```

---

### 2. æˆ¿æºæ¥å£

#### 2.1 è·å–æˆ¿æºåˆ—è¡¨
```
GET /api/properties
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  page: Number,           // é¡µç ï¼ˆé»˜è®¤1ï¼‰
  limit: Number,          // æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤10ï¼‰
  type: String,           // æˆ¿å‹ï¼š'all' | 'apartment' | 'house'
  minPrice: Number,       // æœ€ä½ä»·æ ¼
  maxPrice: Number,       // æœ€é«˜ä»·æ ¼
  bedrooms: Number,       // å§å®¤æ•°
  location: String        // ä½ç½®
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: {
    list: Array<Property>,
    total: Number,
    page: Number,
    limit: Number
  }
}
```

#### 2.2 è·å–æˆ¿æºè¯¦æƒ…
```
GET /api/properties/:id
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: Property
}
```

#### 2.3 æœç´¢æˆ¿æº
```
GET /api/properties/search
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  keyword: String,        // æœç´¢å…³é”®è¯
  page: Number,
  limit: Number
}
```

---

### 3. ç»„é˜Ÿæ¥å£

#### 3.1 åˆ›å»ºç»„é˜Ÿ
```
POST /api/teams
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  propertyId: Number,     // æˆ¿æºIDï¼ˆå¿…å¡«ï¼‰
  description: String     // ç»„é˜Ÿå¤‡æ³¨ï¼ˆé€‰å¡«ï¼Œæœ€å¤š200å­—ï¼‰
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: Team
}
```

**ä¸šåŠ¡è§„åˆ™**ï¼š
- æ¯ä¸ªç”¨æˆ·åªèƒ½åˆ›å»ºä¸€ä¸ªç»„é˜Ÿ
- åˆ›å»ºè€…è‡ªåŠ¨åŠ å…¥æˆå‘˜åˆ—è¡¨
- maxMembers = æˆ¿æºçš„bedroomsæ•°é‡
- æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²åœ¨å…¶ä»–ç»„é˜Ÿä¸­

#### 3.2 è·å–ç»„é˜Ÿåˆ—è¡¨
```
GET /api/teams
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  type: String,           // 'all' | 'my'
  page: Number,
  limit: Number,
  status: String          // 'active' | 'full' | 'closed'
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: {
    list: Array<Team>,
    total: Number
  }
}
```

#### 3.3 è·å–æˆ‘çš„ç»„é˜Ÿ
```
GET /api/teams/my
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: Team | null       // å¦‚æœæœªå‚ä¸ç»„é˜Ÿï¼Œè¿”å›null
}
```

#### 3.4 åŠ å…¥ç»„é˜Ÿ
```
POST /api/teams/:teamId/join
```

**ä¸šåŠ¡è§„åˆ™**ï¼š
- æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²åœ¨å…¶ä»–ç»„é˜Ÿä¸­
- æ£€æŸ¥ç»„é˜Ÿæ˜¯å¦å·²æ»¡
- è‡ªåŠ¨æ›´æ–°æˆå‘˜æ•°é‡
- å¦‚æœåŠ å…¥åæ»¡å‘˜ï¼Œæ›´æ–°statusä¸º'full'

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: Team
}
```

#### 3.5 é€€å‡ºç»„é˜Ÿ
```
DELETE /api/teams/:teamId/leave
```

**ä¸šåŠ¡è§„åˆ™**ï¼š
- å¦‚æœæ˜¯åˆ›å»ºè€…é€€å‡ºï¼Œè§£æ•£æ•´ä¸ªç»„é˜Ÿ
- å¦‚æœæ˜¯æˆå‘˜é€€å‡ºï¼Œç§»é™¤æˆå‘˜å¹¶æ›´æ–°äººæ•°
- é€€å‡ºåstatusä»'full'æ”¹ä¸º'active'

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  message: "é€€å‡ºæˆåŠŸ"
}
```

#### 3.6 è·å–ç»„é˜Ÿæ¶ˆæ¯
```
GET /api/teams/:teamId/messages
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  page: Number,
  limit: Number,
  sinceId: Number         // è·å–æ­¤IDä¹‹åçš„æ¶ˆæ¯
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: {
    list: Array<TeamMessage>,
    total: Number
  }
}
```

#### 3.7 å‘é€ç»„é˜Ÿæ¶ˆæ¯
```
POST /api/teams/:teamId/messages
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  content: String,        // æ¶ˆæ¯å†…å®¹
  type: String            // 'text' | 'image'
}
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: TeamMessage
}
```

---

### 4. æ”¶è—æ¥å£

#### 4.1 è·å–æ”¶è—åˆ—è¡¨
```
GET /api/favorites
```

**å“åº”æ•°æ®**ï¼š
```javascript
{
  code: 200,
  data: Array<Property>
}
```

#### 4.2 æ·»åŠ æ”¶è—
```
POST /api/favorites
```

**è¯·æ±‚å‚æ•°**ï¼š
```javascript
{
  propertyId: Number
}
```

#### 4.3 å–æ¶ˆæ”¶è—
```
DELETE /api/favorites/:propertyId
```

---

## é¡µé¢æ¶æ„

### é¡µé¢åˆ—è¡¨
1. **index** - æˆ¿æºåˆ—è¡¨ï¼ˆé¦–é¡µï¼‰
2. **property-detail** - æˆ¿æºè¯¦æƒ…
3. **team** - ç»„é˜Ÿåˆ—è¡¨
4. **team-detail**ï¼ˆå¾…å¼€å‘ï¼‰- æˆ‘çš„ç»„é˜Ÿè¯¦æƒ…
5. **profile** - ä¸ªäººä¸­å¿ƒ

### TabBaré…ç½®
```javascript
{
  "list": [
    {
      "pagePath": "pages/index/index",
      "text": "é¦–é¡µ"
    },
    {
      "pagePath": "pages/team/team",
      "text": "ç»„é˜Ÿ"
    },
    {
      "pagePath": "pages/profile/profile",
      "text": "æˆ‘çš„"
    }
  ]
}
```

---

## ç»„ä»¶è¯´æ˜

### property-card
**ç”¨é€”**ï¼šæˆ¿æºå¡ç‰‡ç»„ä»¶

**Props**ï¼š
- property: Objectï¼ˆæˆ¿æºæ•°æ®ï¼‰

**Events**ï¼š
- tap: ç‚¹å‡»å¡ç‰‡
- favorite: ç‚¹å‡»æ”¶è—

### filter-bar
**ç”¨é€”**ï¼šç­›é€‰æ ç»„ä»¶

**Props**ï¼šæ— 

**Events**ï¼š
- change: ç­›é€‰æ¡ä»¶å˜åŒ–

**ç­›é€‰æ•°æ®**ï¼š
```javascript
{
  type: String,           // æˆ¿å‹
  priceRange: [Number, Number]  // ä»·æ ¼åŒºé—´
}
```

### team-card
**ç”¨é€”**ï¼šç»„é˜Ÿå¡ç‰‡ç»„ä»¶

**Props**ï¼š
- team: Objectï¼ˆç»„é˜Ÿæ•°æ®ï¼‰

**Events**ï¼š
- tap: ç‚¹å‡»å¡ç‰‡
- join: ç‚¹å‡»åŠ å…¥

---

## UIè®¾è®¡è§„èŒƒ

### è‰²å½©ç³»ç»Ÿ
```css
/* ä¸»è‰² */
--primary-color: #3B82F6;      /* è“è‰² */
--secondary-color: #10B981;    /* ç»¿è‰² */
--accent-color: #F59E0B;       /* æ©™è‰² */

/* æ¸å˜ */
--gradient-blue: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);
--gradient-green: linear-gradient(135deg, #10B981 0%, #059669 100%);

/* æ–‡æœ¬é¢œè‰² */
--text-primary: #1F2937;       /* ä¸»è¦æ–‡æœ¬ */
--text-secondary: #6B7280;     /* æ¬¡è¦æ–‡æœ¬ */
--text-tertiary: #9CA3AF;      /* è¾…åŠ©æ–‡æœ¬ */
--text-white: #FFFFFF;

/* èƒŒæ™¯è‰² */
--bg-primary: #FFFFFF;
--bg-secondary: #F3F4F6;
--bg-tertiary: #E5E7EB;
```

### å­—ä½“ç³»ç»Ÿ
```css
--font-xs: 24rpx;
--font-sm: 28rpx;
--font-base: 32rpx;
--font-lg: 36rpx;
--font-xl: 40rpx;
--font-2xl: 48rpx;
--font-3xl: 56rpx;
--font-4xl: 64rpx;
```

### é—´è·ç³»ç»Ÿ
```css
--space-xs: 8rpx;
--space-sm: 16rpx;
--space-md: 24rpx;
--space-lg: 32rpx;
--space-xl: 40rpx;
--space-2xl: 48rpx;
--space-3xl: 64rpx;
```

### åœ†è§’ç³»ç»Ÿ
```css
--radius-sm: 8rpx;
--radius-md: 12rpx;
--radius-lg: 16rpx;
--radius-xl: 20rpx;
--radius-2xl: 24rpx;
--radius-full: 9999rpx;
```

---

## ä¸šåŠ¡é€»è¾‘è¯´æ˜

### ç»„é˜Ÿä¸šåŠ¡è§„åˆ™

#### è§„åˆ™1ï¼šæ¯äººåªèƒ½å‚ä¸ä¸€ä¸ªç»„é˜Ÿ
- åˆ›å»ºç»„é˜Ÿæ—¶æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²åœ¨å…¶ä»–ç»„é˜Ÿä¸­
- åŠ å…¥ç»„é˜Ÿæ—¶æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²åœ¨å…¶ä»–ç»„é˜Ÿä¸­
- åç«¯éœ€è¦ç»´æŠ¤ç”¨æˆ·-ç»„é˜Ÿæ˜ å°„å…³ç³»

#### è§„åˆ™2ï¼šç»„é˜Ÿäººæ•°é™åˆ¶
- maxMembers = æˆ¿æºçš„bedroomsæ•°
- è¾¾åˆ°ä¸Šé™åstatuså˜ä¸º'full'
- ä¸å…è®¸å†åŠ å…¥

#### è§„åˆ™3ï¼šé€€å‡ºè§„åˆ™
- åˆ›å»ºè€…é€€å‡º â†’ è§£æ•£ç»„é˜Ÿ
- æˆå‘˜é€€å‡º â†’ ç§»é™¤æˆå‘˜ï¼Œæ›´æ–°äººæ•°
- é€€å‡ºåå¯ä»¥åŠ å…¥å…¶ä»–ç»„é˜Ÿæˆ–åˆ›å»ºæ–°ç»„é˜Ÿ

#### è§„åˆ™4ï¼šæˆå‘˜æ˜¾ç¤ºé¡ºåº
- ç¬¬ä¸€ä½ï¼šå‘èµ·äºº
- ç¬¬äºŒä½èµ·ï¼šæŒ‰åŠ å…¥æ—¶é—´å…ˆåæ’åº

---

## æœ¬åœ°å­˜å‚¨è¯´æ˜

### Storage Keys
```javascript
// Token
'token': String

// ç”¨æˆ·ä¿¡æ¯
'userInfo': {
  nickname: String,
  avatar: String,
  campus: String,
  motto: String
}

// æ”¶è—åˆ—è¡¨ï¼ˆåç»­è¿ç§»åˆ°äº‘ç«¯ï¼‰
'favorites': Array<Number>  // æˆ¿æºIDæ•°ç»„

// æœç´¢å†å²
'searchHistory': Array<String>

// ç­›é€‰æ¡ä»¶
'filterConditions': Object
```

---

## é”™è¯¯ç è¯´æ˜

```javascript
// æˆåŠŸ
200: "æˆåŠŸ"

// å®¢æˆ·ç«¯é”™è¯¯
400: "è¯·æ±‚å‚æ•°é”™è¯¯"
401: "æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"
403: "æƒé™ä¸è¶³"
404: "èµ„æºä¸å­˜åœ¨"

// ä¸šåŠ¡é”™è¯¯
1001: "ç”¨æˆ·å·²åœ¨å…¶ä»–ç»„é˜Ÿä¸­"
1002: "ç»„é˜Ÿå·²æ»¡"
1003: "åªæœ‰åˆ›å»ºè€…å¯ä»¥è§£æ•£ç»„é˜Ÿ"
1004: "æ‚¨ä¸åœ¨è¯¥ç»„é˜Ÿä¸­"

// æœåŠ¡å™¨é”™è¯¯
500: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
```

---

## å¼€å‘æ³¨æ„äº‹é¡¹

### å‰ç«¯ä¾§
1. æ‰€æœ‰APIè°ƒç”¨éœ€è¦æºå¸¦token
2. å¤„ç†tokenè¿‡æœŸè‡ªåŠ¨åˆ·æ–°
3. æ¥å£é”™è¯¯ç»Ÿä¸€å¤„ç†
4. Loadingå’ŒToastæç¤º
5. å›¾ç‰‡æ‡’åŠ è½½å’Œç¼“å­˜
6. é˜²æŠ–èŠ‚æµä¼˜åŒ–

### åç«¯ä¾§
1. å®ç°å®Œæ•´çš„ç”¨æˆ·è®¤è¯ï¼ˆJWTï¼‰
2. æ•°æ®åº“äº‹åŠ¡å¤„ç†ï¼ˆç‰¹åˆ«æ˜¯ç»„é˜Ÿæ“ä½œï¼‰
3. å¹¶å‘æ§åˆ¶ï¼ˆåŠ å…¥ç»„é˜Ÿæ—¶çš„äººæ•°é™åˆ¶ï¼‰
4. å›¾ç‰‡å­˜å‚¨ï¼ˆå»ºè®®ä½¿ç”¨OSSï¼‰
5. æ•°æ®åˆ†é¡µ
6. SQLæ³¨å…¥é˜²æŠ¤
7. XSSæ”»å‡»é˜²æŠ¤

---

## é™„å½•

### å‰ç«¯é¡¹ç›®ç»“æ„
```
Nottingham/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/                  # æˆ¿æºåˆ—è¡¨
â”‚   â”œâ”€â”€ property-detail/        # æˆ¿æºè¯¦æƒ…
â”‚   â”œâ”€â”€ team/                   # ç»„é˜Ÿåˆ—è¡¨
â”‚   â”œâ”€â”€ team-detail/            # ç»„é˜Ÿè¯¦æƒ…ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â””â”€â”€ profile/                # ä¸ªäººä¸­å¿ƒ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ property-card/
â”‚   â”œâ”€â”€ filter-bar/
â”‚   â””â”€â”€ team-card/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ api.js                  # APIå°è£…
â”‚   â”œâ”€â”€ storage.js              # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ util.js                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ variables.wxss          # è®¾è®¡å˜é‡
â”‚   â””â”€â”€ common.wxss             # å…¬å…±æ ·å¼
â””â”€â”€ images/                     # å›¾ç‰‡èµ„æº
```

### è”ç³»æ–¹å¼
å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»å‰ç«¯å¼€å‘å›¢é˜Ÿã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬å†å²**ï¼š
- v2.0 (2025-12-03): æ›´æ–°å·²å®ç°åŠŸèƒ½ï¼Œæ·»åŠ å®Œæ•´APIæ–‡æ¡£
- v1.0 (2024-11-01): åˆå§‹ç‰ˆæœ¬
